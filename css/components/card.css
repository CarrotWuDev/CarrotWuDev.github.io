/* ====== DOM 渲染模块 ====== */

/* 卡片容器：Grid 自动响应式布局 + 行轨道定义 */
.cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    grid-auto-rows: auto auto auto auto 1fr auto;
    /* 6 行轨道供子网格继承 */
    gap: var(--space-card);
}

/* 单个卡片：Subgrid 继承父容器行轨道 */
.card {
    background: var(--bg);
    color: var(--fg);
    border: 2px solid var(--line);
    padding: var(--space-card-padding);
    display: grid;
    grid-row: span 6;
    /* 跨越 6 行 */
    grid-template-rows: subgrid;
    /* 继承父容器行轨道 */
    grid-template-columns: minmax(0, 1fr);
    /* 限制列宽防止内容溢出 */
    row-gap: 8px;
    transition: box-shadow var(--duration-fast), border-color var(--duration-fast);
    box-shadow: 4px 4px 0 var(--shadow);
}

/* 通用交互：悬停强调 */
.card:hover {
    border-color: var(--card-accent, var(--line));
    /* 默认回退到边框色，如果没有定义 accent */
    box-shadow: var(--card-hover-shadow) color-mix(in srgb, var(--card-accent, var(--line)), transparent 40%);
}

/* 通用元信息样式 (Standardized Meta) */
.card-meta {
    font-size: 13px;
    color: var(--muted);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    /* Flex alignment if needed, but display property usually depends on context (flex vs grid item) */
    display: flex;
    align-items: center;
    gap: 4px;
}

.card h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 900;
    letter-spacing: .4px;
}

/* 卡片头部：标题 + 状态并排 */
.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    grid-row: 2;
    /* 显式指定行：第2行 */
}

.card-header h3 {
    flex: 1;
    min-width: 0;
}

.card-header .status {
    flex-shrink: 0;
}

/* 标签组：第4行 */
.tags-group {
    grid-row: 4;
}

/* 链接 */
.out {
    align-self: end;
    /* 对齐到网格行底部 */
    padding-top: 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--muted);
    display: inline-flex;
    align-items: center;
    gap: 4px;
    transition: color .15s;
    grid-row: 6;
    /* 显式指定行：第6行 */
}

.out::after {
    content: '→';
}

/* ====== 移动端适配 ====== */
@media (max-width: 767px) {

    /* 卡片容器：强制单列 */
    .cards {
        grid-template-columns: 1fr;
    }

    /* 卡片：调整内边距 */
    .card {
        padding: 16px;
    }

    .card h3 {
        font-size: 16px;
    }
}